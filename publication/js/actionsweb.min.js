(function(){this.ActionsWeb=function(){function a(b,c){a.clientWeb=b,a.points=c>0?c:0}return a.canvasWeb=new CanvasWeb,a.percAccumulated=0,a.clientWeb=null,a.classMove="init",a.points=0,a.addPoint=function(){return a.points++,$(".cont-text-contador p").text(a.points),animate(".contador-BBB-totales","bounce")},a.prototype.exec=function(a,b,c){switch(a){case"register":if("init"===b)return this.register.init();if("run"===b)return this.register.run(c);if("finalize"===b)return this.register.finalize();break;case"canvas":if("init"===b)return this.canvas.init();if("run"===b)return this.canvas.run(c);if("finalize"===b)return this.canvas.finalize();break;case"playAction":if("init"===b)return this.playAction.init();if("run"===b)return this.playAction.run(c);if("finalize"===b)return this.playAction.finalize();break;case"door":if("init"===b)return this.door.init();if("run"===b)return this.door.run(c);if("finalize"===b)return this.door.finalize();break;case"moveHit":if("init"===b)return this.moveHit.init();if("run"===b)return this.moveHit.run(c);if("finalize"===b)return this.moveHit.finalize();break;case"moveThrow":if("init"===b)return this.moveThrow.init();if("run"===b)return this.moveThrow.run(c);if("finalize"===b)return this.moveThrow.finalize();break;case"opacity":if("init"===b)return this.opacity.init();if("run"===b)return this.opacity.run(c);if("finalize"===b)return this.opacity.finalize()}},a.prototype.register={init:function(){return statusUser()?a.clientWeb.nextInteraction():($(".cont-formulario-registro").show(),$("#btn-register").click(function(){var b,c,d;return $("#form-regiter").valid()?($(".cont-cajaG-Center").css({overflow:"visible"}),""===$("#idCiudadAcudiente").val()?message("Debes seleccionar la ciudad",2e3):$("#terms").prop("checked")===!1?message("Debes aceptar terminos y condiciones",2e3):(b=$("#form-regiter").serialize(),c=sendAjax("actions.php","setRegistry",b)),1===c.error?(localStorage.clear(),deleteCookie("bbb%h_da/t4"),console.log(c,"result"),d=JSON.stringify(c.data),localStorage.setItem("bbb%h_da/t4",d),setCookie("bbb%h_da/t4",d,"1"),message("Te registraste correctamente, sigue jugando",3e3),setTimeout(function(){return a.clientWeb.nextInteraction()},2500)):2===c.error?message("El usuario ya existe, por favor intenta de nuevo",2e3):0===c.error?message("Hay datos vacios, por favor ingresa todos los datos",2e3):message("Ocurrio un error al registar",2e3)):$(".cont-cajaG-Center").css({overflow:"scroll"})}),$("#departamento").change(function(){var a,b,c,d,e;if(c={idDepartamento:$(this).val()},e=sendAjax("actions.php","getCity",c),b="<option value=''>Ciudad</option>",1===e.error){for(a=e.data,d=0;d<a.length;)b+='<option value="'+a[d].id+'">'+a[d].nombre+"</option>",d++;return $("#idCiudadAcudiente").prop("disabled",!1).html(b)}return $("#idCiudadAcudiente").prop("disabled",!0).html(b)}))},run:function(){return console.log("run register")},finalize:function(){return $(".cont-formulario-registro").hide()}},a.prototype.canvas={init:function(){var b,c;return $("body").removeClass("bg-puerta").addClass("bg-bosque"),c=a.clientWeb.getAttrConf("titleAction"),$("#title-walk").text(c),b={from:a.clientWeb.getAttrConf("from"),to:a.clientWeb.getAttrConf("to"),folder:a.clientWeb.getAttrConf("folder"),baseName:a.clientWeb.getAttrConf("basename"),ext:a.clientWeb.getAttrConf("ext")},a.canvasWeb.init(b)},run:function(b){var c,d;if(c=b.split("&"),b=parseInt(c[0]),d=c[1],"caminar"===d)return a.canvasWeb.runAction(b)},finalize:function(){return $(".cont-info-camino").hide(),$("canvas").hide(),console.log("Finalize action canvas")}},a.prototype.playAction={init:function(){return $("body").removeClass("bg-puerta").addClass("bg-bosque"),message("Dale iniciar en tu mÃ³vil para continuar jugando",null),console.log("playAction")},run:function(b){var c,d;if(c=b.split("&"),b=parseInt(c[0]),d=c[1],"play"===d&&(a.percAccumulated+=b,a.percAccumulated>=100))return a.percAccumulated=0,a.clientWeb.nextInteraction()},finalize:function(){return hideMessage(),console.log("playAction")}},a.prototype.door={init:function(){var b;return $("body").removeClass("bg-bosque").addClass("bg-puerta"),$(".cont-info-puerta").show(),b=a.clientWeb.getAttrConf("titleAction"),$("#title-door").text(b),a.percAccumulated=0,a.tocAccumulated=1},run:function(b){var c,d;if(c=b.split("&"),b=parseInt(c[0]),d=c[1],"puerta"===d&&($(".Toc-TocS"+a.tocAccumulated).show().delay(400).fadeOut(400),animate(".Toc-TocS"+a.tocAccumulated,"zoomIn"),a.tocAccumulated++,a.percAccumulated+=b,100===a.percAccumulated))return a.percAccumulated=0,a.tocAccumulated=1,a.clientWeb.nextInteraction()},finalize:function(){return console.log("finalize door"),$(".cont-info-puerta").hide()}},a.prototype.moveHit={init:function(){var b,c,d,e;return $("#info-time-bruja").fadeOut(4e3),$("body").removeClass("bg-bosque").addClass("bg-puerta"),e=15,c=2,d=["right","left"],$(".time").show(),$(".cont-info-bruja").show(),b=setInterval(function(){var f,g;return 0===e?($(".time span").css({color:"#fff"}),clearInterval(b),a.clientWeb.nextInteraction()):($(".time span").text(e),e<=5&&($(".time span").css({color:"#c23720"}),animate(".time","bounce")),f=e%c,0===f?(g=Math.round(Math.random()),a.classMove=d[g]):a.classMove="",$("#character-hit").removeClass("move-character-bruja-init move-character-bruja-right move-character-bruja-left"),$("#character-hit").addClass("move-character-bruja-"+a.classMove)),e-=1},1e3)},run:function(b){var c,d;if(c=b.split("&"),b=c[0],d=c[1],"bruja"===d)return $("#object-hit").addClass("move-object-"+b),setTimeout(function(){if($("#object-hit").removeClass("move-object-"+b),$("#object-hit").addClass("move-object-init"),b===a.classMove)return $("#bruja1").hide(),$("#bruja2").show(),setTimeout(function(){return $("#bruja1").show(),$("#bruja2").hide()},400),a.addPoint()},1e3)},finalize:function(){return $(".time").hide(),$(".cont-info-bruja").hide()}},a.prototype.moveThrow={init:function(){var b,c,d,e;return $("#info-time-dracula").fadeOut(4e3),$("body").removeClass("bg-bosque").addClass("bg-puerta"),e=15,c=2,d=["right","left","center"],$(".time").show(),$(".cont-info-dracula").show(),b=setInterval(function(){var f,g;return 0===e?($(".time span").css({color:"#fff"}),clearInterval(b),a.clientWeb.nextInteraction()):($(".time span").text(e),e<=5&&($(".time span").css({color:"#c23720"}),animate(".time","bounce")),f=e%c,g=Math.floor(Math.random()*(d.length-0))+0,a.classMove=d[g],$("#character-throw").removeClass("move-character-init move-character-center move-character-right move-character-left"),$("#character-throw").addClass("move-character-"+a.classMove)),e-=1},1e3)},run:function(b){var c,d;if(c=b.split("&"),b=c[0],d=c[1],"dracula"===d)return console.log(b,"run init"),$("#object-throw").addClass("throw-character-"+b),setTimeout(function(){if($("#object-throw").removeClass("throw-character-"+b),$("#object-throw").addClass("throw-character-init"),b===a.classMove)return $("#dracula1").hide(),$("#dracula2").show(),setTimeout(function(){return $("#dracula1").show(),$("#dracula2").hide()},400),a.addPoint()},1e3)},finalize:function(){return $(".time").hide(),$(".cont-info-dracula").hide()}},a.prototype.opacity={init:function(){var b,c;return $("body").removeClass("bg-bosque").addClass("bg-puerta"),c=15,$(".time").show(),$(".cont-info-fantasma").show(),b=setInterval(function(){return 0===c?($(".time span").css({color:"#fff"}),clearInterval(b),a.clientWeb.nextInteraction()):($(".time span").text(c),c<=5&&($(".time span").css({color:"#c23720"}),animate(".time","bounce"))),c-=1},1e3)},run:function(b){var c,d;if(c=b.split("&"),b=parseInt(c[0]),d=c[1],"fantasma"===d&&($("#info-time-fantasma").fadeOut(4e3),$("#img-opacity").animate({opacity:"-=0."+b},2e3),a.addPoint(),a.percAccumulated+=b,100===a.percAccumulated))return setTimeout(function(){return this.percAccumulated=0,this.clientWeb.nextInteraction()},1500)},finalize:function(){var b;return b={idUser:getUser("id"),point:a.points},sendAjax("actions.php","setGame",b),$(".time").hide(),$(".cont-info-fantasma").hide()}},a}()}).call(this);
//# sourceMappingURL=actionsweb.min.js.map