(function(){this.CanvasWeb=function(){function a(){this.Preloader=new Preloader,this.ClientWeb=this.ClientWeb}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;return u=1,g=-1,i=[],r=void 0,q=1,j=-1,e=0,v=void 0,k=0,h=void 0,b=null,f=null,c={folder:"",baseName:"",from:1,to:10,leadingZeroes:0,ext:"jpg",step:1,bgColor:"#FFFFFF",scaleMode:"cover",direction:"y",playMode:"",playInterval:20,progressDiam:"110",progressFontFamily:"stick",progressFontSize:"38px",progressBgColor:"#e53027",progressFgColor:"#FFFFFF",progressMode:"circle",progressHeight:"5px",progressShowImages:!0,simultaneousLoads:4},a.prototype.init=function(a){var b;for(b in a)b=b,c[b]=a[b];i=[],d(),this.Preloader.init(c,i,m,n),window.addEventListener("resize",o,!1)},m=function(a){a.id>j&&c.progressShowImages&&(t(a.id),j=a.id),t(0)},n=function(a){s(c.playMode),p()},s=function(a){stop(),c.playMode=a},a.prototype.setCurrent=function(a){g=a},p=function(){var a;stop(),"mouse"===c.playMode?(a=document.getElementById("box-action"),a.addEventListener("mousemove",onMouseMove,!1),a.ontouchmove=function(a){return onMouseMove(a.touches[0]),!1}):"loop"!==c.playMode&&"pong"!==c.playMode||(r=setInterval(l,c.playInterval))},a.prototype.stop=function(){document.removeEventListener("mousemove",onMouseMove),r&&(clearInterval(r),r=null)},l=function(a){var b;b=g>=i.length-1?0:++g,t(b+a)},a.prototype.previousImage=function(a){var b;b=g<=0?i.length-1:--g,t(b-a)},a.prototype.toFrame=function(a,b,c){1===u&&(u=0,v=g<=a?a-g:g-a,h=setInterval(function(){switch(e++,b){case"right":l(c);break;case"left":previousImage(c)}e===v&&(u=1,clearInterval(h),e=0),g>=this.ClientWeb.getAttrConf("to")&&(k++,k>=this.ClientWeb.getAttrConf("interactions")&&(k=0,clearInterval(h),e=0,u=1),this.ClientWeb.nextInteraction())},100))},a.prototype.clearIntervalFrames=function(){clearInterval(h)},a.prototype.getCurrent=function(){return g},a.prototype.onMouseMove=function(a){onActionMouseMove(a,c,i,g)},o=function(){b.height=document.getElementById("box-action").offsetHeight,b.width=document.getElementById("box-action").offsetWidth,t(g)},d=function(){if(!document.getElementById("canvas"))return b=document.createElement("canvas"),b.setAttribute("id","canvas"),b.height=$(window).height(),b.width=$(window).width(),b.style.display="block",f=b.getContext("2d"),document.getElementById("box-action").appendChild(b)},t=function(a){var d,e,h,j,k,l,m;a>=0&&a<i.length&&(j=i[a],d=b.width/b.height,e=j.width/j.height,k=void 0,h=void 0,"cover"===c.scaleMode?d>e?(k=b.width,h=k/e):(h=b.height,k=h*e):"contain"===c.scaleMode?d<e?(k=b.width,h=k/e):(h=b.height,k=h*e):"auto"===c.scaleMode&&(k=j.width,h=j.height),l=b.width/2-k/2,m=b.height/2-h/2,f.drawImage(j,0,0,j.width,j.height,Math.round(l),Math.round(m),Math.round(k),Math.round(h)),g=a)},a.prototype.runAction=function(a){var b,c,d,e,f;if(0!==a&&(e=ClientWeb.getAttrConf("to"),d=ClientWeb.getAttrConf("intervalWeb"),c=Math.round(e/d*a/100),c>0?(f=this.getCurrent()+c,b="right"):c<0&&(f=this.getCurrent()-c*-1,b="left"),0!==parseInt(c)))return this.toFrame(f,b,d-1)},a}(),this.Preloader=function(){function a(){this.ClientWeb=this.ClientWeb}var b,c,d,e,f,g,h,i,j,k,l,m,n;return k=null,b=null,l=null,d=null,f=0,h=void 0,j=void 0,a.prototype.init=function(a,b,f,g){var i,k,m,o;for(n(),d=b,h=f,j=g,o=Math.floor((a.to-a.from+1)/a.step),l=new Array(o),c(a),i=0;i<o;)k=a.from+i*a.step,a.leadingZeroes>0&&(k=(1e15+k+"").slice(-a.leadingZeroes)),m=a.folder+"/"+a.baseName+k+"."+a.ext,l[i]={src:m,id:i},d[i]=new Image,i++;setTimeout(function(){var b,c;for(b=Math.max(1,a.simultaneousLoads),c=0;c<b;)e(),c++},300)},n=function(){k=null,b=null,l=null,d=null,f=0},i=function(a){"function"==typeof j&&j(a)},g=function(a){"function"==typeof h&&h(a)},e=function(){var a;l.length>0&&(a=l.shift(),d[a.id].src=a.src,d[a.id].onload=function(){var a;a=d.indexOf(this),g({img:this,id:a}),k&&k.update(f),f++,f===d.length?(m(),i({images:d,length:d.length})):e()})},c=function(a){$("canvas").hide(),$(".cont-cargador").show(),k=document.createElement("div"),k.update=function(b){var c,d;d=Math.floor((a.to-a.from+1)/a.step),c=Math.round(b/(a.to-a.from)*100),$(".cont-porcentaje-carga h3").text(c+"%")}},m=function(){k&&(ClientWeb.endLoaderCanvas(),k=null,$(".cont-cargador").hide(),$("canvas").show(),$(".cont-info-camino").show())},a}()}).call(this);
//# sourceMappingURL=canvasweb.min.js.map